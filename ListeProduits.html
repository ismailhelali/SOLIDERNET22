<!DOCTYPE html>
<html>
<head>
  <title>SOLIDERNET Product List</title>
  
  <!-- include jspdf library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
  <!-- include Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- include Bootstrap JavaScript -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.0/dist/umd/popper.min.js" integrity="sha384-/N/t9aO/QE+tNg8+DpTJ/Yzq3Z"></script>
  
  <!-- include custom CSS -->
  <style>
    /* add custom styling here */
  </style>
</head>
  
<body>
 
  <div class="container-fluid">
    <!-- search field -->
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <input type="search" class="form-control" id="search-field" placeholder="Search products">
      </div>
    </div>
    <!-- category dropdown -->
    <div class="row mt-3">
      <div class="col-md-6 offset-md-3">
        <select class="form-control" id="category-select">
          <option value="">All categories</option>
          <!-- add options for categories here -->
        </select>
      </div>
    </div>
    <!-- product table -->
    <table class="table mt-3">
      <thead>
        <tr>
          <th></th>
          <th>Product</th>
          <th>Quantity</th>
          <th>Unit</th>
        </tr>
      </thead>
      <tbody id="product-table">
        <!-- table rows will be added here by JavaScript -->
      </tbody>
    </table>
    <!-- PDF button -->
    <div class="row mt-3">
      <div class="col-md-6 offset-md-3">
        <button class="btn btn-primary btn-block" id="pdf-button">Generate PDF</button>
      </div>
    </div>
  </div>

   <script>
const products = [
  {
    name: 'Product 1',
    category: 'Category 1',
    checked: false,
    quantity: 0,
    unit: 'Unit 1'
  },
  {
    name: 'Product 2',
    category: 'Category 1',
    checked: false,
    quantity: 0,
    unit: 'Unit 1'
  },
  {
    name: 'Product 3',
    category: 'Category 2',
    checked: false,
    quantity: 0,
    unit: 'Unit 2'
  }
];

function generateTableRows(products) {
  const table = document.getElementById('product-table');
  table.innerHTML = ''; // clear the table
  products.forEach(product => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>
        <input type="checkbox" ${product.checked ? 'checked' : ''}>
      </td>
      <td>${product.name}</td>
      <td>
        <input type="number" value="${product.quantity}">
      </td>
      <td>
        <select>
          <option value="Unit 1" ${product.unit === 'Unit 1' ? 'selected' : ''}>Unit 1</option>
          <option value="Unit 2" ${product.unit === 'Unit 2' ? 'selected' : ''}>Unit 2</option>
          <!-- add more options for units here -->
        </select>
      </td>
    `;
    const checkbox = row.querySelector('input[type="checkbox"]');
    checkbox.addEventListener('click', () => {
      product.checked = checkbox.checked;
    });
    const quantityInput = row.querySelector('input[type="number"]');
    quantityInput.addEventListener('change', () => {
      product.quantity = parseInt(quantityInput.value);
    });
    const unitSelect = row.querySelector('select');
    unitSelect.addEventListener('change', () => {
      product.unit = unitSelect.value;
    });
    table.appendChild(row);
  });
}

const searchField = document.getElementById('search-field');
const categorySelect = document.getElementById('category-select');

searchField.addEventListener('input', () => {
  const query = searchField.value.toLowerCase();
  const filteredProducts = products.filter(product => {
    return product.name.toLowerCase().includes(query) || product.category.toLowerCase().includes(query);
  });
  generateTableRows(filteredProducts);
});

categorySelect.addEventListener('change', () => {
  const category = categorySelect.value;
  const filteredProducts = category ? products.filter(product => product.category === category) : products;
  generateTableRows(filteredProducts);
});
     
function generatePDF() {
  // get the content of the table
  var tableContent = document.getElementById("product-table").innerHTML;

  // create a new jspdf object
  var pdf = new jsPDF();

  // add the content of the table to the PDF
  pdf.addHTML(tableContent, function() {
    // save the PDF
    pdf.save("table.pdf");
  });
}

document.getElementById("pdf-button").addEventListener("click", generatePDF);








window.onload = () => {
  generateTableRows(products);
};





  </script>
  </body>
  </html>

