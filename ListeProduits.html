<!DOCTYPE html>
<html>
<head>
  <title>SOLIDERNET Product List</title>
  
  <!-- include jspdf library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<!-- include Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<!-- include Bootstrap JavaScript -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.0/dist/umd/popper.min.js" integrity="sha384-/N/t9aO/QE+tNg8+DpTJ/Yzq3Z"></script>
  
  <!-- include Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- include custom CSS -->
  <style>
    /* add custom styling here */
  </style>
</head>
<body>
  <div class="container-fluid">
    <!-- search field -->
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <input type="search" class="form-control" id="search-field" placeholder="Search products">
      </div>
    </div>
    <!-- category dropdown -->
    <div class="row mt-3">
      <div class="col-md-6 offset-md-3">
        <select class="form-control" id="category-select">
          <option value="">All categories</option>
          <!-- add options for categories here -->
        </select>
      </div>
    </div>
    <!-- product table -->
    <table class="table mt-3">
      <thead>
        <tr>
          <th></th>
          <th>Product</th>
          <th>Quantity</th>
          <th>Unit</th>
        </tr>
      </thead>
      <tbody id="product-table">
        <!-- table rows will be added here by JavaScript -->
      </tbody>
    </table>
    <!-- PDF button -->
    <div class="row mt-3">
      <div class="col-md-6 offset-md-3">
        <button class="btn btn-primary btn-block" id="pdf-button">Generate PDF</button>
      </div>
    </div>
  </div>
  <!-- include jspdf library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
  <!-- include Bootstrap JavaScript -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.0/dist/umd/popper.min.js" integrity="sha384-/N/t9aO/QE+tNg8+DpTJ/Yzq3Z"></script>

   <script>
  // create an object to store the products and their categories
const products = [
  { name: 'Product 1', category: 'Category 1', quantity: 10, unit: 'kg' },
  { name: 'Product 2', category: 'Category 1', quantity: 20, unit: 'kg' },
  { name: 'Product 3', category: 'Category 2', quantity: 30, unit: 'kg' },
  { name: 'Product 4', category: 'Category 2', quantity: 40, unit: 'kg' },
  { name: 'Product 5', category: 'Category 3', quantity: 50, unit: 'kg' }
];

// create an object to store the checked boxes
let checkedBoxes = {};

// add the table rows to the product table
const productTable = document.getElementById('product-table');
products.forEach(product => {
  const row = document.createElement('tr');
  row.innerHTML = `
    <td><input type="checkbox" value="${product.name}"></td>
    <td>${product.name}</td>
    <td><input class="form-control quantity-input" type="number" value="${product.quantity}"></td>
    <td>
      <select class="form-control unit-select">
        <option value="kg">kg</option>
        <option value="g">g</option>
        <option value="lbs">lbs</option>
      </select>
    </td>
  `;
  productTable.appendChild(row);
});

// add options for categories to the category select
const categories = [...new Set(products.map(product => product.category))];
const categorySelect = document.getElementById('category-select');
categories.forEach(category => {
  const option = document.createElement('option');
  option.value = category;
  option.textContent = category;
  categorySelect.appendChild(option);
});

// add an event listener to the checkboxes to store their state when they are checked or unchecked
const checkboxes = document.querySelectorAll('input[type=checkbox]');
checkboxes.forEach(checkbox => {
  checkbox.addEventListener('change', function() {
    if (this.checked) {
      // store the checkbox and its quantity and unit in the object when it is checked
      checkedBoxes[this.value] = {
        quantity: this.closest('tr').querySelector('.quantity-input').value,
        unit: this.closest('tr').querySelector('.unit-select').value
      }
    } else {
      // remove the checkbox from the object when it is unchecked
      delete checkedBoxes[this.value];
    }
  });
});

// add an event listener to the search field to update the product table when the search is performed
const searchField = document.getElementById('search-field');
searchField.addEventListener('input', function() {
  // get the search query and the selected category
const query = this.value.toLowerCase();
const category = categorySelect.value;

// filter the products by name and category
const filteredProducts = products.filter(product => {
  return product.name.toLowerCase().includes(query) && (category === '' || product.category === category);
});

// update the product table with the filtered products
productTable.innerHTML = '';
filteredProducts.forEach(product => {
  const row = document.createElement('tr');
  row.innerHTML = `
    <td><input type="checkbox" value="${product.name}"></td>
    <td>${product.name}</td>
    <td><input class="form-control quantity-input" type="number" value="${product.quantity}"></td>
    <td>
      <select class="form-control unit-select">
        <option value="kg">kg</option>
        <option value="g">g</option>
        <option value="lbs">lbs</option>
      </select>
    </td>
  `;
  productTable.appendChild(row);
});

// update the checked boxes by checking the checkboxes that are present in the object
checkboxes.forEach(checkbox => {
  if (checkedBoxes[checkbox.value]) {
    checkbox.checked = true;
    // update the quantity and unit of the checked box
    checkbox.closest('tr').querySelector('.quantity-input').value = checkedBoxes[checkbox.value].quantity;
    checkbox.closest('tr').querySelector('.unit-select').value = checkedBoxes[checkbox.value].unit;
  } else {
    checkbox.checked = false;
  }
});
});

// add an event listener to the PDF button to generate the PDF with the checked boxes and their quantities and units
const pdfButton = document.getElementById('pdf-button');
pdfButton.addEventListener('click', function() {
  // create a new PDF document
  const pdf = new jsPDF();

  // add the checked boxes and their quantities and units to the PDF
  Object.entries(checkedBoxes).forEach(([product, {quantity, unit}]) => {
    pdf.text(product, 10, 10);
    pdf.text(quantity, 50, 10);
    pdf.text(unit, 70, 10);
  });

  // save the PDF
  pdf.save('products.pdf');
});
  </script>
  </body>
  </html>
