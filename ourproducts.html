<!DOCTYPE html>
<html>
  <head>
    <title>Product Order Form</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>Product Order Form</h1>
    
    <input type="text" id="search" placeholder="Search for products">
    <div id="categories">
      <label for="category-select">Select Category:</label>
      <select id="category-select">
        <option value="all">All</option>
        <option value="category1">Category 1</option>
        <option value="category2">Category 2</option>
        <option value="category3">Category 3</option>
      </select>
      <button id="show-all-btn">Show All</button>
    </div>
    <div id="products">
      <ul id="category1">
        <li><input type="checkbox">Product 1</li>
        <li><input type="checkbox">Product 2</li>
        <li><input type="checkbox">Product 3</li>
      </ul>
      <ul id="category2">
        <li><input type="checkbox">Product 4</li>
        <li><input type="checkbox">Product 5</li>
        <li><input type="checkbox">Product 6</li>
      </ul>
      <ul id="category3">
        <li><input type="checkbox">Product 7</li>
        <li><input type="checkbox">Product 8</li>
        <li><input type="checkbox">Product 9</li>
      </ul>
    </div>
    <div id="order-form">
      <form>
        <label for="name">Name:</label>
        <input type="text" id="name" required>
        <label for="phone">Phone:</label>
        <input type="text" id="phone" required>
        <button type="submit" id="submit-btn">Submit</button>
      </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
  <script>
  
  $(document).ready(function() {
  var products = [];

  // Add quantities and units to products
  $('li').append('<input type="number" min="1" value="1">');
  $('li').append('<select><option>unit</option><option>kg</option><option>g</option><option>lbs</option></select>');

// Add products to array when checked
$('input[type="checkbox"]').click(function() {
  var product = $(this).parent();
  var name = product.text();
  if ($(this).is(':checked')) {
    product.append('<input type="number" min="1" value="1">');
    product.append('<select><option>unit</option><option>kg</option><option>g</option><option>lbs</option></select>');
    var quantity = product.find('input[type="number"]').val();
    var unit = product.find('select').val();
    products.push({name: name, quantity: quantity, unit: unit});
  } else {
    products = products.filter(item => item.name !== name);
  }
});

  // Show only products in selected category
  $('#category-select').change(function() {
    var category = $(this).val();
    if (category === 'all') {
      $('ul').show();
    } else {
      $('ul').hide();
      $('#' + category).show();
    }
  });

  // Show all products when "Show All" button is clicked
  $('#show-all-btn').click(function() {
    $('ul').show();
  });
    
// Filter products when search input is used
$('#search').keyup(function() {
  var searchTerm = $(this).val().toLowerCase();
  $('li').each(function() {
    var name = $(this).text().toLowerCase();
    if (name.includes(searchTerm)) {
      $(this).show();
    } else {
      $(this).hide();
    }
  });
});
    

  // Generate PDF when form is submitted
  $('form').submit(function(event) {
    event.preventDefault();
    var name = $('#name').val();
    var phone = $('#phone').val();
    var doc = new jsPDF();
    doc.text(20, 20, 'Name: ' + name);
    doc.text(20, 30, 'Phone: ' + phone);
    doc.text(20, 40, 'Ordered Products:');
    var y = 50;
    products.forEach(function(product) {
      doc.text(20, y, product.name + ': ' + product.quantity + ' ' + product.unit);
      y += 10;
    });
    doc.save('order.pdf');
  });
});

</script>
</body>
</html>
