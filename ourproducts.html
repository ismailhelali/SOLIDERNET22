<!DOCTYPE html>
<html>

<head>
  <title>Product List</title>
  <!-- Include the jsPDF library -->
  <script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <!-- Dropdown menu to select a category -->
  <label for="categorySelect">Category:</label>
  <select id="categorySelect">
    <option value="all">All</option>
    <option value="category1">Category 1</option>
    <option value="category2">Category 2</option>
  </select>
  <!-- Input field for searching for a specific product -->
  <label for="productSearch">Search:</label>
  <input type="text" id="productSearch">
  <!-- Button to show all products -->
  <button id="showAllButton">Show All</button>
  <!-- Button to generate PDF -->
  <button id="generatePDFButton">Generate PDF</button>
  <!-- Div to hold the product lists -->
  <div id="productLists">
    <!-- Loop through the categories and products using React -->
    <!-- Each product should have a checkbox and input fields for quantity and unit -->
  </div>
<script>
  // Data structure to store the categories and products
  var data = [
    {
      category: "Category 1",
      products: [
        {
          name: "Product 1",
          unit: "unit"
        },
        {
          name: "Product 2",
          unit: "unit"
        }
      ]
    },
    {
      category: "Category 2",
      products: [
        {
          name: "Product 3",
          unit: "unit"
        },
        {
          name: "Product 4",
          unit: "unit"
        }
      ]
    }
  ];

  // Function to display the categories and products
  function displayCategoriesAndProducts() {
    // Loop through the data
    for (var i = 0; i < data.length; i++) {
      // Get the current category
      var category = data[i].category;
      // Get the products in the current category
      var products = data[i].products;

      // Create a new div to hold the category and products
      var categoryDiv = $("<div>", {
        class: "category"
      });

      // Create a new h2 element to display the category name
      var categoryName = $("<h2>", {
        text: category
      });

      // Append the h2 element to the div
      categoryDiv.append(categoryName);

      // Loop through the products in the current category
      for (var j = 0; j < products.length; j++) {
        // Get the current product
        var product = products[j];
        // Get the product name
        var productName = product.name;
        // Get the product unit
        var productUnit = product.unit;

        // Create a new div to hold the product
        var productDiv = $("<div>", {
          class: "product"
        });

        // Create a new checkbox for the product
        var productCheckbox = $("<input>", {
          type: "checkbox"
        });

        // Create a new input field for the product quantity
        var productQuantity = $("<input>", {
          type: "number"
        });

        // Append the checkbox, quantity field, and product name to the div
        productDiv.append(productCheckbox, productQuantity, productName + " (" + productUnit + ")");

        // Append the product div to the category div
        categoryDiv.append(productDiv);
      }

      // Append the category div to the product lists div
      $("#productLists").append(categoryDiv);
    }
  }

  // Call the displayCategoriesAndProducts function when the page loads
  $(document).ready(function() {
    displayCategoriesAndProducts();
  });
</script>
<script>
  // Data structure to store the selected products, quantities, and units
  var data = [];

  // Function to generate the PDF
  function generatePDF() {
    // Create a new instance of the jsPDF object
    var pdf = new jsPDF();

    // Loop through the data structure containing the selected products, quantities, and units
    for (var i = 0; i < data.length; i++) {
      // Add a new page for each product
      pdf.addPage();
      // Add the product name, quantity, and unit to the PDF
      pdf.text(20, 20, data[i].name + ": " + data[i].quantity + " " + data[i].unit);
    }

    // Save the PDF file
    pdf.save("products.pdf");
  }

  // Function to update the data structure when a checkbox is clicked
  function updateData(product, quantity, unit, checked) {
    if (checked) {
      // Add the product to the data structure
      data.push({
        name: product,
        quantity: quantity,
        unit: unit
      });
    } else {
      // Remove the product from the data structure
      data = data.filter(function(item) {
        return item.name !== product;
      });
    }
  }

  // Function to show or hide products based on the selected category
  function filterProducts(category) {
    if (category === "all") {
      // Show all products
      $("#productLists .productList").show();
    } else {
      // Hide all products
      $("#productLists .productList").hide();
      // Show only the products in the selected category
      $("#productLists .productList." + category).show();
    }
  }

  // Function to search for products as the user types
  function searchProducts() {
    // Get the search query
    var query = $("#productSearch").val();
    // Hide all products
    $("#productLists .productList").hide();
    // Show only the products that match the search query
    $("#productLists .productList:contains('" + query + "')").show();
  }

  // Event listener for the category dropdown menu
  $("#categorySelect").on("change", function() {
    // Get the selected category
    var category = $(this).val();
    // Filter the products based on the selected category
    filterProducts(category);
  });

  // Event listener for the search input field
  $("#productSearch").on("input", function() {
    // Search for products as the user types
    searchProducts();
  });

  // Event listener for the "Show All" button
  $("#showAllButton").on("click", function() {
    // Reset the search input field
    $("#productSearch").val("");
    // Show all products
    filterProducts("all");
  });

  // Event listener for the "Generate PDF" button
  $("#generatePDFButton").on("click", function() {
    // Generate the PDF
    generatePDF();
  });
</script>
</body>
</html>
