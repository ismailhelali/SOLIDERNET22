<!DOCTYPE html>
<html>
<head>
  <title>Product List</title>
  <!-- include CSS and jQuery libraries -->
 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
  <!-- add a dropdown list of categories -->
  <div class="form-group">
    <label for="category-select">Category:</label>
    <select class="form-control" id="category-select">
      <option value="all">All</option>
      <!-- add options for each category -->
      <option value="category1">Category 1</option>
      <option value="category2">Category 2</option>
      <option value="category3">Category 3</option>
    </select>
  </div>

  <!-- add a search input -->
  <div class="form-group">
    <label for="search-input">Search:</label>
    <input type="text" class="form-control" id="search-input" placeholder="Enter product name or portion of name">
  </div>

  <!-- add a show all button -->
  <button class="btn btn-primary" id="show-all-btn">Show All</button>

  <!-- add a container for the product lists -->
  <div id="product-lists-container">
    <!-- add a list for each category -->
    <div class="category" id="category1">
      <h3>Category 1</h3>
      <ul>
        <!-- add a list item for each product in the category -->
        <li>
          <!-- add a checkbox and quantity input for each product -->
          <input type="checkbox" class="product-checkbox" data-product-name="Product 1">
          <span class="product-name">Product 1</span>
          <input type="number" class="product-quantity" min="1" value="1">
          <!-- add a unit dropdown for each product -->
          <select class="product-unit">
            <option value="unit1">Unit 1</option>
            <option value="unit2">Unit 2</option>
            <option value="unit3">Unit 3</option>
          </select>
        </li>
        <!-- add more list items for other products in the category -->
        <li>
          <input type="checkbox" class="product-checkbox" data-product-name="Product 2">
          <span class="product-name">Product 2</span>
          <input type="number" class="product-quantity" min="1" value="1">
          <select class="product-unit">
            <option value="unit1">Unit 1</option>
            <option value="unit2">Unit 2</option>
            <option value="unit3">Unit 3</option>
          </select>
        </li>
      </ul>
    </div>

<!-- add more lists for other categories -->
<div class="category" id="category2">
  <h3>Category 2</h3>
  <ul>
    <!-- add list items for products in the category -->
  </ul>
</div>

<div class="category" id="category3">
  <h3>Category 3</h3>
  <ul>
    <!-- add list items for products in the category -->
  </ul>
</div>

    
    
    
    
<!-- add a form for the user to input their information -->
<form id="user-info-form">
  <div class="form-group">
    <label for="name-input">Name:</label>
    <input type="text" class="form-control" id="name-input" placeholder="Enter your name">
  </div>
  <div class="form-group">
    <label for="company-input">Company:</label>
    <input type="text" class="form-control" id="company-input" placeholder="Enter your company name">
  </div>
  <div class="form-group">
    <label for="phone-input">Phone:</label>
    <input type="text" class="form-control" id="phone-input" placeholder="Enter your phone number">
  </div>
</form>

<!-- add a save as PDF button -->
<button class="btn btn-primary" id="save-pdf-btn">Save as PDF</button>
    
    
    <script>

const categories = document.getElementById("categories");
const categorySelect = document.getElementById("category-select");
const searchInput = document.getElementById("search");
const showAllButton = document.getElementById("show-all");
const userForm = document.getElementById("user-form");
const savePdfButton = document.getElementById("save-pdf");

let data = {};

// When a category is chosen from the dropdown list or the "Show All" button is clicked,
// show only the products associated with that category
categorySelect.addEventListener("change", () => {
  const selectedCategory = categorySelect.value;
  if (selectedCategory === "all") {
    categories.querySelectorAll("h2").forEach(category => {
      category.style.display = "block";
    });
  } else {
    categories.querySelectorAll("h2").forEach(category => {
      if (category.id === selectedCategory) {
        category.style.display = "block";
      } else {
        category.style.display = "none";
      }
    });
  }
});
showAllButton.addEventListener("click", () => {
  categorySelect.value = "all";
  categories.querySelectorAll("h2").forEach(category => {
    category.style.display = "block";
  });
});

// Implement the dynamic search functionality
searchInput.addEventListener("input", () => {
  const searchText = searchInput.value.toLowerCase();
  categories.querySelectorAll("li").forEach(product => {
    const label = product.querySelector("label");
    if (label.textContent.toLowerCase().includes(searchText)) {
      product.style.display = "block";
    } else {
      product.style.display = "none";
    }
  });
});

// Store the checked products, their quantities, and units in a data structure
categories.addEventListener("change", event => {
  const checkbox = event.target;
  if (checkbox.tagName === "INPUT" && checkbox.type === "checkbox") {
    const productId = checkbox.id;
    const quantity = checkbox.parentNode.querySelector("input[type=number]").value;
    const unit = checkbox.parentNode.querySelector("select").value;
    if (checkbox.checked) {
      data[productId] = { quantity, unit };
    } else {
      delete data[productId];
    }
  }
});

// When the user submits the form, create a PDF with the checked products and the user's information
userForm.addEventListener("submit", event => {
  event.preventDefault();
  const name = document.getElementById("name").value;
  const company = document.getElementById("company").value;
  const phone = document.getElementById("phone").value;

  // Use jsPDF to create the PDF file
  const doc = new jsPDF();
  doc.setFontSize(20);
  doc.text(`Order for ${name}`, 14, 22);

if (company) {
  doc.text(`Company: ${company}`, 14, 32);
}
if (phone) {
  doc.text(`Phone: ${phone}`, 14, 42);
}

let y = 60;
Object.entries(data).forEach(([productId, { quantity, unit }]) => {
  const category = categories.querySelector(`#${productId}`).parentNode.previousSibling.textContent;
  doc.text(`${category}:`, 14, y);
  y += 10;
  doc.text(`${productId}: ${quantity} ${unit}`, 14, y);
  y += 10;
});

doc.save("order.pdf");
});
    </script>
    

</body>
</html>
  

